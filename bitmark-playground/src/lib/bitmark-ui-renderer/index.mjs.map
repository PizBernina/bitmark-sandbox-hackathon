{"version":3,"sources":["../src/components/BitmarkRenderer.tsx","../src/components/AppCodeEditorInteractiveRenderer.tsx","../src/components/ClozeRenderer.tsx","../src/components/ClozeAndMultipleChoiceRenderer.tsx","../src/components/MultipleChoiceRenderer.tsx","../src/components/TextRenderer.tsx","../src/components/ArticleRenderer.tsx","../src/utils/ContentParser.ts","../src/components/ErrorRenderer.tsx","../src/components/SandboxOutputGroupRenderer.tsx","../src/components/AppCodeEditorRenderer.tsx","../src/components/SandboxPlaceholderRenderer.tsx","../src/components/ThemeProvider.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\n\nimport { Box, Alert, AlertTitle, CircularProgress } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { AppCodeEditorInteractiveRenderer } from './AppCodeEditorInteractiveRenderer';\nimport { AppCodeEditorRenderer } from './AppCodeEditorRenderer';\nimport { ClozeAndMultipleChoiceRenderer } from './ClozeAndMultipleChoiceRenderer';\nimport { ClozeRenderer } from './ClozeRenderer';\nimport { ErrorRenderer } from './ErrorRenderer';\nimport { MultipleChoiceRenderer } from './MultipleChoiceRenderer';\nimport { SandboxOutputGroupRenderer } from './SandboxOutputGroupRenderer';\nimport { SandboxPlaceholderRenderer } from './SandboxPlaceholderRenderer';\nimport { TextRenderer } from './TextRenderer';\nimport { ArticleRenderer } from './ArticleRenderer';\nimport { BitmarkNode, BitmarkRendererProps, UserInteraction, RendererError, ClozeBit, MultipleChoiceBit, TextBit, ClozeAndMultipleChoiceBit, ArticleBit } from '../types';\n\nconst BitmarkRenderer: React.FC<BitmarkRendererProps> = ({\n  data,\n  onInteraction,\n  className,\n  style,\n}) => {\n  const [interactions, setInteractions] = useState<UserInteraction[]>([]);\n  const [errors, setErrors] = useState<RendererError[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Handle user interactions\n  const handleInteraction = useCallback((interaction: UserInteraction) => {\n    setInteractions(prev => [...prev, interaction]);\n    onInteraction?.(interaction);\n  }, [onInteraction]);\n\n  // Group related sandbox bits\n  const groupSandboxBits = useCallback((bits: BitmarkNode[]) => {\n    const groups = new Map<string, {\n      editor?: BitmarkNode;\n      outputs: Array<{ bit: BitmarkNode; index: number }>;\n    }>();\n    const standaloneBits: Array<{ bit: BitmarkNode; index: number }> = [];\n\n    bits.forEach((bit, index) => {\n      const bitType = bit.type || bit.bit?.type || 'unknown';\n      \n      if (bitType === 'app-code-editor') {\n        // Handle ID which might be an array or string\n        let id = bit.id || bit.bit?.id || `editor-${index}`;\n        if (Array.isArray(id)) {\n          id = id[0] || `editor-${index}`;\n        }\n        if (!groups.has(id)) {\n          groups.set(id, { editor: bit, outputs: [] });\n        } else {\n          groups.get(id)!.editor = bit;\n        }\n      } else if (bitType === 'sandbox-output-json' || bitType === 'sandbox-output-bitmark') {\n        // Handle fromId which might be an array or string\n        let fromId = bit.fromId || bit.bit?.fromId || bit.properties?.fromId;\n        if (Array.isArray(fromId)) {\n          fromId = fromId[0];\n        }\n        if (fromId && groups.has(fromId)) {\n          groups.get(fromId)!.outputs.push({ bit, index });\n        } else {\n          // If no matching editor found, treat as standalone\n          standaloneBits.push({ bit, index });\n        }\n      } else {\n        standaloneBits.push({ bit, index });\n      }\n    });\n\n    return { groups, standaloneBits };\n  }, []);\n\n  // Render a single bit\n  const renderBit = useCallback((bit: BitmarkNode, index: number) => {\n    // Create a more unique key that includes the bit's ID if available\n    const bitId = bit.id ? `bit-${bit.id}-${bit.type}` : `bit-${index}-${bit.type}`;\n\n    try {\n      // Handle different bitmark structures\n      const bitType = bit.type || bit.bit?.type || 'unknown';\n      \n      // Debug logging - disabled for production build\n      // if (typeof process !== 'undefined' && process.env?.NODE_ENV === 'development') {\n      //   console.log('Rendering bit:', { bit, bitType, content: bit.content });\n      // }\n      \n      switch (bitType) {\n        case 'cloze':\n          return (\n            <ClozeRenderer\n              key={bitId}\n              bit={bit as ClozeBit}\n              onInteraction={(value: string) => handleInteraction({\n                type: 'cloze',\n                bitId,\n                value,\n                timestamp: Date.now()\n              })}\n            />\n          );\n        \n        case 'multiple-choice':\n          return (\n            <MultipleChoiceRenderer\n              key={bitId}\n              bit={bit as MultipleChoiceBit}\n              onInteraction={(value: string) => handleInteraction({\n                type: 'multiple-choice',\n                bitId,\n                value,\n                timestamp: Date.now()\n              })}\n            />\n          );\n        \n        case 'cloze-and-multiple-choice-text':\n          return (\n            <ClozeAndMultipleChoiceRenderer\n              key={bitId}\n              bit={bit as ClozeAndMultipleChoiceBit}\n              onInteraction={(value: string) => handleInteraction({\n                type: 'cloze',\n                bitId,\n                value,\n                timestamp: Date.now()\n              })}\n            />\n          );\n        \n        case 'text':\n        case 'paragraph':\n        case 'header':\n          return (\n            <TextRenderer\n              key={bitId}\n              bit={bit as TextBit}\n            />\n          );\n        \n        case 'article':\n          return (\n            <ArticleRenderer\n              key={bitId}\n              bit={bit as ArticleBit}\n              onInteraction={(value: string) => handleInteraction({\n                type: 'text-input',\n                bitId,\n                value,\n                timestamp: Date.now()\n              })}\n            />\n          );\n        \n        case 'app-code-editor':\n          return (\n            <AppCodeEditorInteractiveRenderer\n              key={bitId}\n              bit={bit}\n              onInteraction={handleInteraction}\n            />\n          );\n        \n        case 'sandbox-output-json':\n        case 'sandbox-output-bitmark':\n          return (\n            <SandboxPlaceholderRenderer\n              key={bitId}\n              bitType={bitType}\n            />\n          );\n        \n        default:\n          return (\n            <ErrorRenderer\n              key={bitId}\n              error={{\n                type: 'unsupported',\n                message: `Unsupported bit type: ${bitType}`,\n                bitType: bitType\n              }}\n            />\n          );\n      }\n    } catch (error) {\n      return (\n        <ErrorRenderer\n          key={bitId}\n          error={{\n            type: 'validation',\n            message: `Error rendering ${bit.type} bit`,\n            bitType: bit.type,\n            details: error instanceof Error ? error.message : 'Unknown error'\n          }}\n        />\n      );\n    }\n  }, [handleInteraction]);\n\n  // Validate data and collect errors\n  const validateData = useCallback((inputData: BitmarkNode | BitmarkNode[]): { data: BitmarkNode[], errors: RendererError[] } => {\n    const errors: RendererError[] = [];\n    let parsedData: BitmarkNode[] = [];\n    \n    try {\n      if (Array.isArray(inputData)) {\n        parsedData = inputData;\n      } else {\n        parsedData = [inputData];\n      }\n      \n      // Note: Unsupported bit types are now handled in renderBit() to avoid duplicate warnings\n      \n    } catch (error) {\n      errors.push({\n        type: 'parsing',\n        message: 'Failed to parse bitmark data',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      });\n    }\n    \n    return { data: parsedData, errors };\n  }, []);\n\n  // Process data when it changes\n  useEffect(() => {\n    setIsLoading(true);\n    \n    try {\n      const { data: parsedData, errors: validationErrors } = validateData(data);\n      setErrors(validationErrors);\n      \n      // Simulate a small delay for better UX\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 100);\n    } catch (error) {\n      setErrors([{\n        type: 'parsing',\n        message: 'Failed to process bitmark data',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      }]);\n      setIsLoading(false);\n    }\n  }, [data, validateData]);\n\n  const { data: parsedData } = validateData(data);\n\n  // Group sandbox bits using useMemo to avoid hook order issues\n  const groupedData = useMemo(() => {\n    return groupSandboxBits(parsedData);\n  }, [parsedData, groupSandboxBits]);\n\n  if (isLoading) {\n    return (\n      <Box\n        className={className}\n        style={style}\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"200px\"\n      >\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Box\n      className={className}\n      style={style}\n      sx={{\n        padding: 2,\n        backgroundColor: 'background.paper',\n        borderRadius: 1,\n        boxShadow: 1,\n        overflow: 'auto',\n        maxHeight: '100%',\n      }}\n    >\n      {/* Display errors if any */}\n      {errors.length > 0 && (\n        <Box mb={2}>\n          {errors.map((error, index) => (\n            <Alert key={index} severity=\"warning\" sx={{ mb: 1 }}>\n              <AlertTitle>\n                {error.type === 'unsupported' ? 'Unsupported Bit Type' : \n                 error.type === 'parsing' ? 'Parsing Error' : 'Rendering Error'}\n              </AlertTitle>\n              {error.message}\n              {error.details && (\n                <Box component=\"pre\" sx={{ fontSize: '0.875rem', mt: 1, opacity: 0.8 }}>\n                  {error.details}\n                </Box>\n              )}\n            </Alert>\n          ))}\n        </Box>\n      )}\n\n      {/* Render bits */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3 }}\n      >\n        {(() => {\n          const { groups, standaloneBits } = groupedData;\n          const elements: React.ReactNode[] = [];\n\n          // Render grouped sandbox bits\n          groups.forEach((group, groupId) => {\n            if (group.editor && group.outputs.length > 0) {\n              // Render as a group\n              const outputs = group.outputs.map(({ bit }) => ({\n                type: bit.type as 'sandbox-output-json' | 'sandbox-output-bitmark',\n                fromId: bit.fromId || bit.bit?.fromId || bit.properties?.fromId || '',\n                prettify: bit.prettify || bit.bit?.prettify || bit.properties?.prettify,\n                content: bit.content || bit.bit?.content || bit.body?.bodyText || bit.body?.text || '',\n              }));\n              \n              elements.push(\n                <SandboxOutputGroupRenderer\n                  key={`group-${groupId}`}\n                  editor={group.editor}\n                  outputs={outputs}\n                />\n              );\n            } else if (group.editor) {\n              // Render standalone editor\n              const editorIndex = groupId.startsWith('editor-') \n                ? parseInt(groupId.replace('editor-', '')) \n                : 0;\n              elements.push(renderBit(group.editor, editorIndex));\n            }\n          });\n\n          // Render standalone bits\n          standaloneBits.forEach(({ bit, index }) => {\n            elements.push(renderBit(bit, index));\n          });\n\n          return elements;\n        })()}\n      </motion.div>\n\n      {/* Debug info in development */}\n      {typeof process !== 'undefined' && process.env?.NODE_ENV === 'development' && (\n        <Box mt={2} p={2} bgcolor=\"grey.100\" borderRadius={1}>\n          <Box component=\"pre\" fontSize=\"0.75rem\" color=\"text.secondary\">\n            Interactions: {interactions.length}\n            {interactions.length > 0 && (\n              <Box component=\"div\" mt={1}>\n                {interactions.map((interaction, i) => (\n                  <Box key={i} component=\"div\">\n                    {interaction.type}: {interaction.value}\n                  </Box>\n                ))}\n              </Box>\n            )}\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default BitmarkRenderer;\n","import React, { useState, useCallback, useMemo } from 'react';\n\nimport { Code, DataObject, PlayArrow, Visibility, CodeOff } from '@mui/icons-material';\nimport { Box, Typography, Chip, Paper, Switch, FormControlLabel } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { ClozeRenderer } from './ClozeRenderer';\nimport { ClozeAndMultipleChoiceRenderer } from './ClozeAndMultipleChoiceRenderer';\nimport { MultipleChoiceRenderer } from './MultipleChoiceRenderer';\nimport { TextRenderer } from './TextRenderer';\nimport { ArticleRenderer } from './ArticleRenderer';\nimport { UserInteraction } from '../types';\nimport { parseBitmarkContent, extractOptions, getPrimaryInteractiveType } from '../utils/ContentParser';\n\ninterface AppCodeEditorInteractiveRendererProps {\n  bit: {\n    type: string;\n    content?: string;\n    computerLanguage?: string;\n    body?: any;\n    id?: string;\n    bitmark?: string;\n    originalBit?: {\n      bitmark?: string;\n      body?: string | any[];\n      markup?: string;\n    };\n  };\n  onInteraction?: (interaction: UserInteraction) => void;\n  defaultView?: 'code' | 'interactive';\n}\n\nexport const AppCodeEditorInteractiveRenderer: React.FC<AppCodeEditorInteractiveRendererProps> = ({ \n  bit, \n  onInteraction,\n  defaultView = 'interactive'\n}) => {\n  const [viewMode, setViewMode] = useState<'code' | 'interactive'>(defaultView);\n\n  // Extract content from various possible structures\n  const content = useMemo(() => {\n    // First check if content is already extracted (from playground)\n    if (bit.content) return bit.content;\n    \n    // Then check body structures\n    if (bit.body) {\n      if (typeof bit.body === 'string') return bit.body;\n      if (Array.isArray(bit.body)) {\n        // For app-code-editor, the body contains the actual code content\n        return bit.body\n          .map((item: any) => {\n            if (typeof item === 'string') {\n              return item;\n            } else if (item && typeof item === 'object') {\n              // Handle different body structures\n              if (item.bodyText) return item.bodyText;\n              if (item.text) return item.text;\n              if (item.content) return item.content;\n              if (typeof item === 'string') return item;\n            }\n            return '';\n          })\n          .join('\\n');\n      }\n      if (bit.body.bodyText) return bit.body.bodyText;\n      if (bit.body.text) return bit.body.text;\n    }\n    \n    // Try to find content in other locations (for bitmark content)\n    if (bit.bitmark) return bit.bitmark;\n    if (bit.originalBit && bit.originalBit.bitmark) return bit.originalBit.bitmark;\n    if (bit.originalBit && bit.originalBit.body) {\n      if (typeof bit.originalBit.body === 'string') return bit.originalBit.body;\n      if (Array.isArray(bit.originalBit.body)) {\n        return bit.originalBit.body\n          .map((item: any) => {\n            if (typeof item === 'string') return item;\n            if (item && typeof item === 'object') {\n              if (item.bodyText) return item.bodyText;\n              if (item.text) return item.text;\n              if (item.content) return item.content;\n            }\n            return '';\n          })\n          .join('\\n');\n      }\n    }\n    \n    // For app-code-editor bits, try to extract content from the markup\n    if (bit.originalBit && bit.originalBit.markup) {\n      const markup = bit.originalBit.markup;\n      // Extract content after the app-code-editor tag\n      const lines = markup.split('\\n');\n      const contentLines = [];\n      let inContent = false;\n      \n      for (const line of lines) {\n        if (line.trim().startsWith('[.app-code-editor')) {\n          inContent = true;\n          continue;\n        }\n        if (inContent && line.trim() && !line.trim().startsWith('[')) {\n          contentLines.push(line);\n        } else if (inContent && line.trim().startsWith('[') && !line.trim().startsWith('[.app-code-editor')) {\n          break;\n        }\n      }\n      \n      if (contentLines.length > 0) {\n        return contentLines.join('\\n').trim();\n      }\n    }\n    \n    return '';\n  }, [bit.content, bit.body, bit.bitmark, bit.originalBit]);\n\n  const language = bit.computerLanguage || 'bitmark';\n  const id = bit.id || 'app-code-editor';\n\n  const handleInteraction = useCallback((value: string) => {\n    const interaction: UserInteraction = {\n      type: 'app-code-editor',\n      bitId: id,\n      value,\n      timestamp: Date.now()\n    };\n    \n    onInteraction?.(interaction);\n  }, [id, onInteraction]);\n\n  // For JSON content, determine if we should use original JSON or extracted text\n  const { displayContent, shouldUseOriginalJson } = useMemo(() => {\n    if (language === 'json' && content) {\n      try {\n        const parsed = JSON.parse(content);\n        \n        // Check if this JSON contains structured data that should be parsed as-is\n        const hasStructuredData = Array.isArray(parsed) \n          ? parsed.some((item: any) => item && typeof item === 'object' && item.type)\n          : parsed && typeof parsed === 'object' && parsed.type;\n        \n        if (hasStructuredData) {\n          // Use original JSON for structured data (like articles)\n          return { displayContent: content, shouldUseOriginalJson: true };\n        }\n        \n        // For simple JSON, extract text content\n        if (Array.isArray(parsed)) {\n          const extractedContent = parsed\n            .map((item: any) => {\n              if (typeof item === 'string') return item;\n              if (item && typeof item === 'object') {\n                if (item.body && item.body.bodyText) return item.body.bodyText;\n                if (item.body && typeof item.body === 'string') return item.body;\n                if (item.content) return item.content;\n                if (item.text) return item.text;\n              }\n              return '';\n            })\n            .filter(Boolean)\n            .join('\\n');\n          if (extractedContent) {\n            return { displayContent: extractedContent, shouldUseOriginalJson: false };\n          }\n        } else if (parsed && typeof parsed === 'object') {\n          if (parsed.body && parsed.body.bodyText) {\n            return { displayContent: parsed.body.bodyText, shouldUseOriginalJson: false };\n          } else if (parsed.body && typeof parsed.body === 'string') {\n            return { displayContent: parsed.body, shouldUseOriginalJson: false };\n          } else if (parsed.content) {\n            return { displayContent: parsed.content, shouldUseOriginalJson: false };\n          } else if (parsed.text) {\n            return { displayContent: parsed.text, shouldUseOriginalJson: false };\n          }\n        }\n      } catch {\n        // Not JSON, use content as-is\n      }\n    }\n    return { displayContent: content, shouldUseOriginalJson: false };\n  }, [language, content]);\n\n  // Parse the content to determine what to render\n  const parsedContent = parseBitmarkContent(displayContent);\n  const primaryType = getPrimaryInteractiveType(displayContent);\n  const options = extractOptions(parsedContent.parts);\n\n  console.log('AppCodeEditorInteractiveRenderer: displayContent:', displayContent);\n  console.log('AppCodeEditorInteractiveRenderer: parsedContent:', parsedContent);\n  console.log('AppCodeEditorInteractiveRenderer: primaryType:', primaryType);\n  console.log('AppCodeEditorInteractiveRenderer: hasInteractiveElements:', parsedContent.hasInteractiveElements);\n\n  const getLanguageIcon = () => {\n    switch (language) {\n      case 'json':\n        return <DataObject sx={{ fontSize: '1rem' }} />;\n      case 'bitmark':\n        return <PlayArrow sx={{ fontSize: '1rem' }} />;\n      default:\n        return <Code sx={{ fontSize: '1rem' }} />;\n    }\n  };\n\n  const getLanguageColor = () => {\n    switch (language) {\n      case 'json':\n        return 'primary';\n      case 'bitmark':\n        return 'secondary';\n      default:\n        return 'default';\n    }\n  };\n\n  // Render interactive content based on the primary type\n  const renderInteractiveContent = () => {\n    if (!parsedContent.hasInteractiveElements) {\n      // If no interactive elements, render as text content\n      return (\n        <Box sx={{ p: 2 }}>\n          <TextRenderer\n            bit={{\n              type: 'text',\n              content: displayContent,\n              id: id,\n            }}\n          />\n        </Box>\n      );\n    }\n\n    // For article type, use the parsed content from ContentParser\n    if (primaryType === 'article') {\n      console.log('AppCodeEditorInteractiveRenderer: Rendering article, looking for article part');\n      const articlePart = parsedContent.parts.find(part => part.type === 'article');\n      console.log('AppCodeEditorInteractiveRenderer: Found article part:', articlePart);\n      if (articlePart) {\n        const articleBit = {\n          type: 'article' as const,\n          content: articlePart.content,\n          title: articlePart.title,\n          level: articlePart.level || 1,\n          id: id,\n        };\n        console.log('AppCodeEditorInteractiveRenderer: Created articleBit:', articleBit);\n        return (\n          <ArticleRenderer\n            bit={articleBit}\n            onInteraction={handleInteraction}\n          />\n        );\n      } else {\n        console.log('AppCodeEditorInteractiveRenderer: No article part found in parsedContent.parts:', parsedContent.parts);\n      }\n    }\n\n    // Create a mock bit object for other renderers\n    const mockBit = {\n      type: primaryType || 'text',\n      content: displayContent,\n      id: id,\n    };\n\n    switch (primaryType) {\n      case 'cloze':\n        return (\n          <ClozeRenderer\n            bit={mockBit as any}\n            onInteraction={handleInteraction}\n          />\n        );\n      \n      case 'multiple-choice':\n        return (\n          <MultipleChoiceRenderer\n            bit={mockBit as any}\n            onInteraction={handleInteraction}\n          />\n        );\n      \n      case 'cloze-and-multiple-choice':\n        return (\n          <ClozeAndMultipleChoiceRenderer\n            bit={mockBit as any}\n            onInteraction={handleInteraction}\n          />\n        );\n      \n      case 'header':\n        return (\n          <TextRenderer\n            bit={mockBit as any}\n          />\n        );\n      \n      default:\n        return (\n          <TextRenderer\n            bit={mockBit as any}\n          />\n        );\n    }\n  };\n\n  // Render code view\n  const renderCodeView = () => (\n    <Box\n      component=\"pre\"\n      sx={{\n        backgroundColor: 'grey.50',\n        p: 2,\n        borderRadius: 1,\n        border: '1px solid',\n        borderColor: 'grey.200',\n        fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n        fontSize: '0.875rem',\n        lineHeight: 1.5,\n        overflow: 'auto',\n        maxHeight: '300px',\n        whiteSpace: 'pre-wrap',\n        wordBreak: 'break-word',\n      }}\n    >\n      {content || 'No content available'}\n    </Box>\n  );\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Paper\n        elevation={1}\n        sx={{\n          p: 2,\n          mb: 2,\n          border: '1px solid',\n          borderColor: 'divider',\n          borderRadius: 2,\n        }}\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2, flexWrap: 'wrap' }}>\n          {getLanguageIcon()}\n          <Typography variant=\"h6\" sx={{ fontSize: '1rem', fontWeight: 600 }}>\n            Code Editor\n          </Typography>\n          <Chip\n            label={language.toUpperCase()}\n            size=\"small\"\n            color={getLanguageColor()}\n            variant=\"outlined\"\n          />\n          {id && (\n            <Chip\n              label={`ID: ${id}`}\n              size=\"small\"\n              variant=\"outlined\"\n            />\n          )}\n          \n          {/* View mode toggle */}\n          <Box sx={{ ml: 'auto', display: 'flex', alignItems: 'center', gap: 1 }}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={viewMode === 'interactive'}\n                  onChange={(e) => setViewMode(e.target.checked ? 'interactive' : 'code')}\n                  size=\"small\"\n                />\n              }\n              label={\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\n                  {viewMode === 'interactive' ? <Visibility fontSize=\"small\" /> : <CodeOff fontSize=\"small\" />}\n                  <Typography variant=\"caption\">\n                    {viewMode === 'interactive' ? 'Interactive' : 'Code'}\n                  </Typography>\n                </Box>\n              }\n              sx={{ m: 0 }}\n            />\n          </Box>\n        </Box>\n        \n        {viewMode === 'code' ? renderCodeView() : renderInteractiveContent()}\n      </Paper>\n    </motion.div>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { Box, TextField, Typography } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { ClozeBit } from '../types';\n\ninterface ClozeRendererProps {\n  bit: ClozeBit;\n  onInteraction: (value: string) => void;\n}\n\nexport const ClozeRenderer: React.FC<ClozeRendererProps> = ({ bit, onInteraction }) => {\n  const [value, setValue] = useState('');\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = event.target.value;\n    setValue(newValue);\n    onInteraction(newValue);\n  };\n\n  const handleFocus = () => setIsFocused(true);\n  const handleBlur = () => setIsFocused(false);\n\n  // Parse the content to find cloze placeholders\n  const parseContent = (content: string | undefined) => {\n    if (!content) {\n      return [{\n        type: 'text' as const,\n        content: 'No content available'\n      }];\n    }\n    \n    // Look for [_text] patterns in the content\n    const parts = content.split(/(\\[_[^\\]]*\\])/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('[_') && part.endsWith(']')) {\n        const correctAnswer = part.slice(2, -1);\n        return {\n          type: 'cloze' as const,\n          correctAnswer,\n          placeholder: bit.placeholder || 'Fill in the blank'\n        };\n      }\n      return {\n        type: 'text' as const,\n        content: part\n      };\n    });\n  };\n\n  const parsedParts = parseContent(bit.content);\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        border: '1px solid',\n        borderColor: 'divider',\n        borderRadius: 2,\n        backgroundColor: 'background.paper',\n        boxShadow: 1,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"body1\" component=\"div\" sx={{ lineHeight: 2.5 }}>\n        {parsedParts.map((part, index) => {\n          if (part.type === 'cloze') {\n            return (\n              <motion.span\n                key={index}\n                initial={{ scale: 0.95 }}\n                animate={{ scale: 1 }}\n                transition={{ duration: 0.2 }}\n                style={{ display: 'inline-block', verticalAlign: 'middle' }}\n              >\n                <TextField\n                  value={value}\n                  onChange={handleChange}\n                  onFocus={handleFocus}\n                  onBlur={handleBlur}\n                  placeholder={part.placeholder}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  sx={{\n                    mx: 0.5,\n                    minWidth: 120,\n                    '& .MuiOutlinedInput-root': {\n                      backgroundColor: isFocused ? 'primary.50' : 'grey.100',\n                      transition: 'all 0.2s ease-in-out',\n                      '&:hover': {\n                        backgroundColor: 'primary.100',\n                      },\n                      '&.Mui-focused': {\n                        backgroundColor: 'primary.50',\n                        boxShadow: '0 0 0 2px rgba(25, 118, 210, 0.2)',\n                      },\n                    },\n                  }}\n                />\n              </motion.span>\n            );\n          }\n          return (\n            <span key={index} style={{ display: 'inline' }}>\n              {part.content}\n            </span>\n          );\n        })}\n      </Typography>\n    </Box>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { Box, TextField, FormControl, InputLabel, Select, MenuItem, Typography } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { ClozeAndMultipleChoiceBit } from '../types';\n\ninterface ClozeAndMultipleChoiceRendererProps {\n  bit: ClozeAndMultipleChoiceBit;\n  onInteraction: (value: string) => void;\n}\n\nexport const ClozeAndMultipleChoiceRenderer: React.FC<ClozeAndMultipleChoiceRendererProps> = ({ \n  bit, \n  onInteraction \n}) => {\n  const [clozeValue, setClozeValue] = useState('');\n  const [selectedValue, setSelectedValue] = useState('');\n\n  const handleClozeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = event.target.value;\n    setClozeValue(newValue);\n    onInteraction(`cloze:${newValue}`);\n  };\n\n  const handleSelectChange = (event: any) => {\n    const newValue = event.target.value;\n    setSelectedValue(newValue);\n    onInteraction(`multiple-choice:${newValue}`);\n  };\n\n  // Parse the content to find both cloze and multiple choice patterns\n  const parseContent = (content: string | undefined) => {\n    if (!content) {\n      return [{\n        type: 'text' as const,\n        content: 'No content available'\n      }];\n    }\n    \n    // Look for [_text] and [-text][+text] patterns\n    const parts = content.split(/(\\[_[^\\]]*\\]|\\[[-+][^\\]]*\\])/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('[_') && part.endsWith(']')) {\n        const correctAnswer = part.slice(2, -1);\n        return {\n          type: 'cloze' as const,\n          correctAnswer,\n          placeholder: 'Fill in the blank'\n        };\n      } else if (part.startsWith('[-') || part.startsWith('[+')) {\n        const isCorrect = part.startsWith('[+');\n        const text = part.slice(2, -1);\n        return {\n          type: 'option' as const,\n          text,\n          correct: isCorrect,\n          value: text.toLowerCase().replace(/\\s+/g, '-')\n        };\n      }\n      return {\n        type: 'text' as const,\n        content: part\n      };\n    });\n  };\n\n  const parsedParts = parseContent(bit.content);\n  const options = parsedParts.filter(part => part.type === 'option');\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        border: '1px solid',\n        borderColor: 'divider',\n        borderRadius: 2,\n        backgroundColor: 'background.paper',\n        boxShadow: 1,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"body1\" component=\"div\" sx={{ lineHeight: 2.5 }}>\n        {parsedParts.map((part, index) => {\n          if (part.type === 'cloze') {\n            return (\n              <motion.span\n                key={index}\n                initial={{ scale: 0.95 }}\n                animate={{ scale: 1 }}\n                transition={{ duration: 0.2 }}\n                style={{ display: 'inline-block', verticalAlign: 'middle' }}\n              >\n                <TextField\n                  value={clozeValue}\n                  onChange={handleClozeChange}\n                  placeholder={part.placeholder}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  sx={{\n                    mx: 0.5,\n                    minWidth: 120,\n                    '& .MuiOutlinedInput-root': {\n                      backgroundColor: 'grey.100',\n                      '&:hover': {\n                        backgroundColor: 'primary.100',\n                      },\n                      '&.Mui-focused': {\n                        backgroundColor: 'primary.50',\n                        boxShadow: '0 0 0 2px rgba(25, 118, 210, 0.2)',\n                      },\n                    },\n                  }}\n                />\n              </motion.span>\n            );\n          } else if (part.type === 'option') {\n            // Don't render individual options here, they'll be handled by the dropdown\n            return null;\n          }\n          return (\n            <span key={index} style={{ display: 'inline' }}>\n              {part.content}\n            </span>\n          );\n        })}\n        {options.length > 0 && (\n          <motion.span\n            initial={{ scale: 0.95 }}\n            animate={{ scale: 1 }}\n            transition={{ duration: 0.2 }}\n            style={{ display: 'inline-block', verticalAlign: 'middle', marginLeft: 8 }}\n          >\n            <FormControl size=\"small\" sx={{ minWidth: 150 }}>\n              <InputLabel>Choose</InputLabel>\n              <Select\n                value={selectedValue}\n                onChange={handleSelectChange}\n                label=\"Choose\"\n                sx={{\n                  backgroundColor: 'grey.100',\n                  '&:hover': {\n                    backgroundColor: 'primary.100',\n                  },\n                  '&.Mui-focused': {\n                    backgroundColor: 'primary.50',\n                  },\n                }}\n              >\n                {options.map((option, optionIndex) => (\n                  <MenuItem key={optionIndex} value={option.value}>\n                    {option.text}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </motion.span>\n        )}\n      </Typography>\n    </Box>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { Box, FormControl, InputLabel, Select, MenuItem, Typography } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { MultipleChoiceBit } from '../types';\n\ninterface MultipleChoiceRendererProps {\n  bit: MultipleChoiceBit;\n  onInteraction: (value: string) => void;\n}\n\nexport const MultipleChoiceRenderer: React.FC<MultipleChoiceRendererProps> = ({ bit, onInteraction }) => {\n  const [selectedValue, setSelectedValue] = useState(bit.selectedValue || '');\n\n  const handleChange = (event: any) => {\n    const newValue = event.target.value;\n    setSelectedValue(newValue);\n    onInteraction(newValue);\n  };\n\n  // Parse the content to find multiple choice patterns\n  const parseContent = (content: string | undefined) => {\n    if (!content) {\n      return [{\n        type: 'text' as const,\n        content: 'No content available'\n      }];\n    }\n    \n    // Look for [-text][+text] patterns in the content, handling spaces and newlines\n    // Use a more robust regex that handles spaces and newlines within brackets\n    const parts = content.split(/(\\[[-+][^\\]]*\\])/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('[-') || part.startsWith('[+')) {\n        const isCorrect = part.startsWith('[+');\n        // Extract text content, trimming whitespace\n        const text = part.slice(2, -1).trim();\n        return {\n          type: 'option' as const,\n          text,\n          correct: isCorrect,\n          value: text.toLowerCase().replace(/\\s+/g, '-')\n        };\n      }\n      return {\n        type: 'text' as const,\n        content: part\n      };\n    });\n  };\n\n  const parsedParts = parseContent(bit.content);\n  const options = parsedParts.filter(part => part.type === 'option');\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        border: '1px solid',\n        borderColor: 'divider',\n        borderRadius: 2,\n        backgroundColor: 'background.paper',\n        boxShadow: 1,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"body1\" component=\"div\">\n        {parsedParts.map((part, index) => {\n          if (part.type === 'option') {\n            // Don't render individual options here, they'll be handled by the dropdown\n            return null;\n          }\n          return (\n            <span key={index}>\n              {part.content}\n            </span>\n          );\n        })}\n        {options.length > 0 && (\n          <motion.div\n            initial={{ scale: 0.95 }}\n            animate={{ scale: 1 }}\n            transition={{ duration: 0.2 }}\n            style={{ marginTop: 16 }}\n          >\n            <FormControl size=\"small\" sx={{ minWidth: 200 }}>\n              <InputLabel>Choose an option</InputLabel>\n              <Select\n                value={selectedValue}\n                onChange={handleChange}\n                label=\"Choose an option\"\n                sx={{\n                  backgroundColor: 'grey.100',\n                  '&:hover': {\n                    backgroundColor: 'primary.100',\n                  },\n                  '&.Mui-focused': {\n                    backgroundColor: 'primary.50',\n                  },\n                }}\n              >\n                {options.map((option, optionIndex) => (\n                  <MenuItem key={optionIndex} value={option.value}>\n                    {option.text}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </motion.div>\n        )}\n      </Typography>\n    </Box>\n  );\n};\n","import React from 'react';\n\nimport { Box, Typography } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { TextBit } from '../types';\n\ninterface TextRendererProps {\n  bit: TextBit;\n}\n\nexport const TextRenderer: React.FC<TextRendererProps> = ({ bit }) => {\n  const { content, type, level = 1, formatting } = bit;\n\n  // Parse inline formatting like **bold** and __italic__\n  const parseInlineFormatting = (text: string | undefined) => {\n    if (!text) {\n      return ['No content available'];\n    }\n    \n    const parts = text.split(/(\\*\\*[^*]+\\*\\*|__[^_]+__|==[^=]+==)/g);\n    \n    return parts.map((part, index) => {\n      if (part.startsWith('**') && part.endsWith('**')) {\n        return (\n          <Typography\n            key={index}\n            component=\"span\"\n            sx={{ fontWeight: 'bold' }}\n          >\n            {part.slice(2, -2)}\n          </Typography>\n        );\n      } else if (part.startsWith('__') && part.endsWith('__')) {\n        return (\n          <Typography\n            key={index}\n            component=\"span\"\n            sx={{ fontStyle: 'italic' }}\n          >\n            {part.slice(2, -2)}\n          </Typography>\n        );\n      } else if (part.startsWith('==') && part.endsWith('==')) {\n        return (\n          <Typography\n            key={index}\n            component=\"span\"\n            sx={{ \n              textDecoration: 'underline',\n              textDecorationColor: 'primary.main'\n            }}\n          >\n            {part.slice(2, -2)}\n          </Typography>\n        );\n      }\n      return part;\n    });\n  };\n\n  const renderContent = () => {\n    const formattedContent = parseInlineFormatting(content);\n    \n    if (type === 'header') {\n      const variant = level === 1 ? 'h4' : level === 2 ? 'h5' : 'h6';\n      return (\n        <Typography\n          variant={variant as any}\n          component=\"div\"\n          sx={{\n            fontWeight: 'bold',\n            color: 'primary.main',\n            mb: 1,\n            mt: level === 1 ? 0 : 2,\n          }}\n        >\n          {formattedContent}\n        </Typography>\n      );\n    }\n\n    return (\n      <Typography\n        variant=\"body1\"\n        component=\"div\"\n        sx={{\n          mb: 1,\n          lineHeight: 1.6,\n          ...(formatting?.bold && { fontWeight: 'bold' }),\n          ...(formatting?.italic && { fontStyle: 'italic' }),\n          ...(formatting?.underline && { textDecoration: 'underline' }),\n        }}\n      >\n        {formattedContent}\n      </Typography>\n    );\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Box\n        sx={{\n          mb: type === 'header' ? 2 : 1,\n        }}\n      >\n        {renderContent()}\n      </Box>\n    </motion.div>\n  );\n};\n","import React from 'react';\nimport { Box, Typography, Paper } from '@mui/material';\nimport { motion } from 'framer-motion';\nimport { Article as ArticleIcon } from '@mui/icons-material';\nimport { ArticleBit } from '../types';\n\ninterface ArticleRendererProps {\n  bit: ArticleBit;\n  onInteraction?: (value: string) => void;\n}\n\nexport const ArticleRenderer: React.FC<ArticleRendererProps> = ({ bit, onInteraction }) => {\n  const { content, title, level = 1 } = bit;\n\n  const handleInteraction = (value: string) => {\n    if (onInteraction) {\n      onInteraction(value);\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Paper\n        elevation={2}\n        sx={{\n          p: 3,\n          mb: 2,\n          border: '1px solid',\n          borderColor: 'divider',\n          borderRadius: 2,\n          backgroundColor: 'background.paper',\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            mb: 2,\n            pb: 1,\n            borderBottom: '2px solid',\n            borderBottomColor: 'primary.main',\n          }}\n        >\n          <ArticleIcon color=\"primary\" />\n          <Typography\n            variant={`h${Math.min(level, 6)}` as any}\n            component=\"h1\"\n            sx={{\n              fontWeight: 'bold',\n              color: 'primary.main',\n              m: 0,\n            }}\n          >\n            {title || 'Article'}\n          </Typography>\n        </Box>\n        \n        <Box\n          sx={{\n            '& p': {\n              mb: 2,\n              lineHeight: 1.6,\n            },\n            '& h1, & h2, & h3, & h4, & h5, & h6': {\n              mt: 3,\n              mb: 1.5,\n              fontWeight: 'bold',\n              color: 'text.primary',\n            },\n            '& h1': { fontSize: '1.5rem' },\n            '& h2': { fontSize: '1.3rem' },\n            '& h3': { fontSize: '1.1rem' },\n            '& h4': { fontSize: '1rem' },\n            '& h5': { fontSize: '0.9rem' },\n            '& h6': { fontSize: '0.8rem' },\n            '& ul, & ol': {\n              pl: 3,\n              mb: 2,\n            },\n            '& li': {\n              mb: 0.5,\n            },\n            '& blockquote': {\n              borderLeft: '4px solid',\n              borderLeftColor: 'primary.main',\n              pl: 2,\n              ml: 0,\n              fontStyle: 'italic',\n              color: 'text.secondary',\n              mb: 2,\n            },\n            '& code': {\n              backgroundColor: 'grey.100',\n              px: 0.5,\n              py: 0.25,\n              borderRadius: 0.5,\n              fontFamily: 'monospace',\n              fontSize: '0.875rem',\n            },\n            '& pre': {\n              backgroundColor: 'grey.100',\n              p: 2,\n              borderRadius: 1,\n              overflow: 'auto',\n              mb: 2,\n            },\n            '& pre code': {\n              backgroundColor: 'transparent',\n              p: 0,\n            },\n          }}\n        >\n          {content ? (\n            <div\n              dangerouslySetInnerHTML={{\n                __html: content\n                  .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n                  .replace(/__(.*?)__/g, '<em>$1</em>')\n                  .replace(/==(.*?)==/g, '<u>$1</u>')\n                  .replace(/\\n\\n/g, '</p><p>')\n                  .replace(/\\n/g, '<br>')\n                  .replace(/^/, '<p>')\n                  .replace(/$/, '</p>'),\n              }}\n            />\n          ) : (\n            <Typography color=\"text.secondary\" fontStyle=\"italic\">\n              No content available\n            </Typography>\n          )}\n        </Box>\n      </Paper>\n    </motion.div>\n  );\n};\n","/**\n * ContentParser utility for parsing bitmark content and identifying interactive elements\n * This utility can be used by both standalone renderers and app-code-editor renderer\n */\n\nexport interface ParsedContentPart {\n  type: 'text' | 'cloze' | 'option' | 'header' | 'article';\n  content?: string;\n  correctAnswer?: string;\n  placeholder?: string;\n  text?: string;\n  correct?: boolean;\n  value?: string;\n  level?: number;\n  title?: string;\n}\n\nexport interface ParsedContent {\n  parts: ParsedContentPart[];\n  hasInteractiveElements: boolean;\n  hasCloze: boolean;\n  hasMultipleChoice: boolean;\n  hasHeader: boolean;\n  hasArticle: boolean;\n}\n\n/**\n * Parse bitmark content to identify interactive elements\n */\nexport function parseBitmarkContent(content: string | undefined): ParsedContent {\n  if (!content) {\n    return {\n      parts: [{ type: 'text', content: 'No content available' }],\n      hasInteractiveElements: false,\n      hasCloze: false,\n      hasMultipleChoice: false,\n      hasHeader: false,\n      hasArticle: false,\n    };\n  }\n\n  // First, try to parse as JSON to extract bitmark content from JSON structures\n  let bitmarkContent = content;\n  try {\n    const parsed = JSON.parse(content);\n    if (Array.isArray(parsed)) {\n      // Look for bitmark content in the array\n      bitmarkContent = parsed\n        .map((item: any) => {\n          if (typeof item === 'string') return item;\n          if (item && typeof item === 'object') {\n            if (item.body && item.body.bodyText) return item.body.bodyText;\n            if (item.body && typeof item.body === 'string') return item.body;\n            if (item.content) return item.content;\n            if (item.text) return item.text;\n          }\n          return '';\n        })\n        .filter(Boolean)\n        .join('\\n');\n    } else if (parsed && typeof parsed === 'object') {\n      // Look for bitmark content in the object\n      if (parsed.body && parsed.body.bodyText) {\n        bitmarkContent = parsed.body.bodyText;\n      } else if (parsed.body && typeof parsed.body === 'string') {\n        bitmarkContent = parsed.body;\n      } else if (parsed.content) {\n        bitmarkContent = parsed.content;\n      } else if (parsed.text) {\n        bitmarkContent = parsed.text;\n      }\n    }\n  } catch {\n    // Not JSON, use content as-is\n    bitmarkContent = content;\n  }\n\n  const parts: ParsedContentPart[] = [];\n  let hasCloze = false;\n  let hasMultipleChoice = false;\n  let hasHeader = false;\n  let hasArticle = false;\n\n  // Check if content starts with [.article] pattern OR if we have JSON with article type\n  let isArticle = false;\n  let articleTitle = 'Article';\n  let articleContent = '';\n\n  if (bitmarkContent.trim().startsWith('[.article]')) {\n    // Handle bitmark article syntax\n    isArticle = true;\n    \n    // Extract title if present\n    const titleMatch = bitmarkContent.match(/\\[@title:\\s*([^\\]]+)\\]/);\n    articleTitle = titleMatch ? titleMatch[1].trim() : 'Article';\n    \n    // Extract content after the article declaration and any attributes\n    // Remove [.article] and any attributes like [@title: ...] from the content\n    articleContent = bitmarkContent\n      .replace(/\\[\\.article\\].*?(?=\\n|$)/, '') // Remove [.article] and everything until newline or end\n      .replace(/\\[@title:\\s*[^\\]]+\\]/g, '') // Remove [@title: ...] attributes\n      .replace(/\\[@[^\\]]+\\]/g, '') // Remove any other [@...] attributes\n      .trim();\n  } else {\n    // Check if we have JSON with article type\n    try {\n      const jsonData = JSON.parse(content);\n      console.log('ContentParser: Parsed JSON data:', jsonData);\n      if (Array.isArray(jsonData) && jsonData.length > 0) {\n        const firstItem = jsonData[0];\n        console.log('ContentParser: First item:', firstItem);\n        if (firstItem && firstItem.type === 'article') {\n          console.log('ContentParser: Found article in array');\n          isArticle = true;\n          articleTitle = firstItem.title || firstItem.body?.title || 'Article';\n          articleContent = firstItem.body?.bodyText || firstItem.content || firstItem.text || 'No content available';\n          console.log('ContentParser: Article content:', articleContent);\n        }\n      } else if (jsonData && jsonData.type === 'article') {\n        console.log('ContentParser: Found article in object');\n        isArticle = true;\n        articleTitle = jsonData.title || jsonData.body?.title || 'Article';\n        articleContent = jsonData.body?.bodyText || jsonData.content || jsonData.text || 'No content available';\n        console.log('ContentParser: Article content:', articleContent);\n      }\n    } catch (error) {\n      console.log('ContentParser: JSON parse error:', error);\n      // Not valid JSON, continue with normal processing\n    }\n  }\n\n  if (isArticle) {\n    // If no content after processing, use a default\n    if (!articleContent) {\n      articleContent = 'No content available';\n    }\n    \n    parts.push({\n      type: 'article',\n      content: articleContent,\n      title: articleTitle,\n    });\n    hasArticle = true;\n  } else {\n    // Split content by various patterns for other interactive elements\n    const regex = /(\\[!.*?\\]|\\[_[^\\]]*\\]|\\[[-+][^\\]]*\\])/g;\n  const splitParts = bitmarkContent.split(regex);\n\n  splitParts.forEach((part, index) => {\n    if (!part) return;\n\n    // Check for header pattern [!Title]\n    if (part.startsWith('[!') && part.endsWith(']')) {\n      const title = part.slice(2, -1);\n      const level = title.startsWith('#') ? title.split('#').length - 1 : 1;\n      parts.push({\n        type: 'header',\n        content: title.replace(/^#+/, '').trim(),\n        level: Math.min(level, 6), // Max level 6\n      });\n      hasHeader = true;\n    }\n    // Check for cloze pattern [_answer]\n    else if (part.startsWith('[_') && part.endsWith(']')) {\n      const correctAnswer = part.slice(2, -1);\n      parts.push({\n        type: 'cloze',\n        correctAnswer,\n        placeholder: 'Fill in the blank',\n      });\n      hasCloze = true;\n    }\n    // Check for multiple choice pattern [-wrong][+correct]\n    else if (part.startsWith('[-') || part.startsWith('[+')) {\n      const isCorrect = part.startsWith('[+');\n      const text = part.slice(2, -1).trim();\n      parts.push({\n        type: 'option',\n        text,\n        correct: isCorrect,\n        value: text.toLowerCase().replace(/\\s+/g, '-'),\n      });\n      hasMultipleChoice = true;\n    }\n    // Regular text\n    else {\n      parts.push({\n        type: 'text',\n        content: part,\n      });\n    }\n  });\n  }\n\n  return {\n    parts,\n    hasInteractiveElements: hasCloze || hasMultipleChoice || hasHeader || hasArticle,\n    hasCloze,\n    hasMultipleChoice,\n    hasHeader,\n    hasArticle,\n  };\n}\n\n/**\n * Extract options from parsed content\n */\nexport function extractOptions(parts: ParsedContentPart[]): ParsedContentPart[] {\n  return parts.filter(part => part.type === 'option');\n}\n\n/**\n * Check if content has any interactive elements\n */\nexport function hasInteractiveContent(content: string | undefined): boolean {\n  if (!content) return false;\n  \n  // First, try to extract bitmark content from JSON\n  let bitmarkContent = content;\n  try {\n    const parsed = JSON.parse(content);\n    if (Array.isArray(parsed)) {\n      bitmarkContent = parsed\n        .map((item: any) => {\n          if (typeof item === 'string') return item;\n          if (item && typeof item === 'object') {\n            if (item.body && item.body.bodyText) return item.body.bodyText;\n            if (item.body && typeof item.body === 'string') return item.body;\n            if (item.content) return item.content;\n            if (item.text) return item.text;\n          }\n          return '';\n        })\n        .filter(Boolean)\n        .join('\\n');\n    } else if (parsed && typeof parsed === 'object') {\n      if (parsed.body && parsed.body.bodyText) {\n        bitmarkContent = parsed.body.bodyText;\n      } else if (parsed.body && typeof parsed.body === 'string') {\n        bitmarkContent = parsed.body;\n      } else if (parsed.content) {\n        bitmarkContent = parsed.content;\n      } else if (parsed.text) {\n        bitmarkContent = parsed.text;\n      }\n    }\n  } catch {\n    // Not JSON, use content as-is\n    bitmarkContent = content;\n  }\n  \n  return /(\\[!.*?\\]|\\[_[^\\]]*\\]|\\[[-+][^\\]]*\\])/.test(bitmarkContent);\n}\n\n/**\n * Get the primary interactive type from content\n */\nexport function getPrimaryInteractiveType(content: string | undefined): 'cloze' | 'multiple-choice' | 'cloze-and-multiple-choice' | 'header' | 'article' | 'text' | null {\n  if (!content) return null;\n\n  // First, check if this is JSON with structured data (like articles)\n  try {\n    const parsed = JSON.parse(content);\n    \n    // Check for article type in JSON structure\n    if (Array.isArray(parsed)) {\n      const hasArticle = parsed.some((item: any) => item && typeof item === 'object' && item.type === 'article');\n      if (hasArticle) {\n        return 'article';\n      }\n    } else if (parsed && typeof parsed === 'object' && parsed.type === 'article') {\n      return 'article';\n    }\n  } catch {\n    // Not JSON, continue with bitmark parsing\n  }\n\n  // For bitmark content, check for different interactive types\n  const hasCloze = /\\[_[^\\]]*\\]/.test(content);\n  const hasMultipleChoice = /\\[[-+][^\\]]*\\]/.test(content);\n  const hasHeader = /\\[!.*?\\]/.test(content);\n  const hasArticle = /\\[\\.article\\]/.test(content);\n\n  if (hasArticle) {\n    return 'article';\n  } else if (hasCloze && hasMultipleChoice) {\n    return 'cloze-and-multiple-choice';\n  } else if (hasCloze) {\n    return 'cloze';\n  } else if (hasMultipleChoice) {\n    return 'multiple-choice';\n  } else if (hasHeader) {\n    return 'header';\n  }\n\n  return 'text';\n}\n","import React from 'react';\n\nimport { Box, Alert, AlertTitle, Typography } from '@mui/material';\nimport { motion } from 'framer-motion';\n\nimport { RendererError } from '../types';\n\ninterface ErrorRendererProps {\n  error: RendererError;\n}\n\nexport const ErrorRenderer: React.FC<ErrorRendererProps> = ({ error }) => {\n  const getErrorIcon = () => {\n    // Material-UI Alert component provides its own icons, so we don't need custom icons\n    return null;\n  };\n\n  const getErrorTitle = () => {\n    switch (error.type) {\n      case 'unsupported':\n        return 'Unsupported Bit Type';\n      case 'parsing':\n        return 'Parsing Error';\n      case 'validation':\n        return 'Rendering Error';\n      default:\n        return 'Unknown Error';\n    }\n  };\n\n  const getErrorColor = () => {\n    switch (error.type) {\n      case 'unsupported':\n        return 'warning';\n      case 'parsing':\n        return 'error';\n      case 'validation':\n        return 'error';\n      default:\n        return 'info';\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Box sx={{ mb: 2 }}>\n        <Alert \n          severity={getErrorColor() as any}\n          sx={{\n            borderRadius: 2,\n            '& .MuiAlert-icon': {\n              fontSize: '1.2rem',\n            },\n          }}\n        >\n          <AlertTitle sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            {getErrorIcon() && <span>{getErrorIcon()}</span>}\n            {getErrorTitle()}\n          </AlertTitle>\n          \n          <Typography variant=\"body2\" sx={{ mt: 1 }}>\n            {error.message}\n          </Typography>\n          \n          {error.bitType && (\n            <Typography variant=\"caption\" sx={{ display: 'block', mt: 1, opacity: 0.8 }}>\n              Bit type: <code>{error.bitType}</code>\n            </Typography>\n          )}\n          \n          {error.details && (\n            <Box\n              component=\"pre\"\n              sx={{\n                mt: 1,\n                p: 1,\n                bgcolor: 'grey.100',\n                borderRadius: 1,\n                fontSize: '0.75rem',\n                fontFamily: 'monospace',\n                overflow: 'auto',\n                maxHeight: '100px',\n              }}\n            >\n              {error.details}\n            </Box>\n          )}\n        </Alert>\n      </Box>\n    </motion.div>\n  );\n};\n","import React from 'react';\nimport { Box, Typography, Chip, Paper, Divider } from '@mui/material';\nimport { motion } from 'framer-motion';\nimport { Code, DataObject, PlayArrow, Transform } from '@mui/icons-material';\nimport { AppCodeEditorRenderer } from './AppCodeEditorRenderer';\n\ninterface SandboxOutput {\n  type: 'sandbox-output-json' | 'sandbox-output-bitmark';\n  fromId: string;\n  prettify?: boolean | number;\n  content?: string;\n}\n\ninterface SandboxOutputGroupRendererProps {\n  editor: {\n    type: string;\n    content?: string;\n    id?: string;\n    computerLanguage?: string;\n    body?: any;\n  };\n  outputs: SandboxOutput[];\n}\n\nexport const SandboxOutputGroupRenderer: React.FC<SandboxOutputGroupRendererProps> = ({ \n  editor, \n  outputs \n}) => {\n  const getOutputIcon = (type: string) => {\n    switch (type) {\n      case 'sandbox-output-json':\n        return <DataObject sx={{ fontSize: '1rem' }} />;\n      case 'sandbox-output-bitmark':\n        return <PlayArrow sx={{ fontSize: '1rem' }} />;\n      default:\n        return <Code sx={{ fontSize: '1rem' }} />;\n    }\n  };\n\n  const getOutputTitle = (type: string) => {\n    switch (type) {\n      case 'sandbox-output-json':\n        return 'JSON Output';\n      case 'sandbox-output-bitmark':\n        return 'Bitmark Output';\n      default:\n        return 'Output';\n    }\n  };\n\n  const getOutputColor = (type: string) => {\n    switch (type) {\n      case 'sandbox-output-json':\n        return 'primary';\n      case 'sandbox-output-bitmark':\n        return 'secondary';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Paper\n        elevation={2}\n        sx={{\n          p: 0,\n          mb: 3,\n          border: '1px solid',\n          borderColor: 'primary.main',\n          borderRadius: 2,\n          overflow: 'hidden',\n        }}\n      >\n        {/* Editor Section */}\n        <Box sx={{ p: 2, backgroundColor: 'primary.50' }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n            <Transform sx={{ fontSize: '1.2rem', color: 'primary.main' }} />\n            <Typography variant=\"h6\" sx={{ fontSize: '1rem', fontWeight: 600, color: 'primary.main' }}>\n              Sandbox Group\n            </Typography>\n            <Chip\n              label={`${outputs.length} output${outputs.length !== 1 ? 's' : ''}`}\n              size=\"small\"\n              color=\"primary\"\n              variant=\"outlined\"\n            />\n          </Box>\n        </Box>\n\n        {/* Editor Content */}\n        <Box sx={{ p: 2 }}>\n          <AppCodeEditorRenderer bit={editor} />\n        </Box>\n\n        {/* Outputs Section */}\n        {outputs.length > 0 && (\n          <>\n            <Divider />\n            <Box sx={{ p: 2 }}>\n              <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 600, color: 'text.secondary' }}>\n                Generated Outputs:\n              </Typography>\n              \n              {outputs.map((output, index) => (\n                <Box key={`${output.type}-${index}`} sx={{ mb: 2 }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n                    {getOutputIcon(output.type)}\n                    <Typography variant=\"subtitle2\" sx={{ fontWeight: 600 }}>\n                      {getOutputTitle(output.type)}\n                    </Typography>\n                    <Chip\n                      label={output.type.replace('sandbox-output-', '').toUpperCase()}\n                      size=\"small\"\n                      color={getOutputColor(output.type)}\n                      variant=\"outlined\"\n                    />\n                    {output.prettify && (\n                      <Chip\n                        label={`Prettify: ${output.prettify}`}\n                        size=\"small\"\n                        variant=\"outlined\"\n                      />\n                    )}\n                  </Box>\n                  \n                  <Box\n                    component=\"pre\"\n                    sx={{\n                      backgroundColor: 'grey.50',\n                      p: 2,\n                      borderRadius: 1,\n                      border: '1px solid',\n                      borderColor: 'grey.200',\n                      fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n                      fontSize: '0.875rem',\n                      lineHeight: 1.5,\n                      overflow: 'auto',\n                      maxHeight: '200px',\n                      whiteSpace: 'pre-wrap',\n                      wordBreak: 'break-word',\n                    }}\n                  >\n                    {output.content || `[Generated ${output.type.replace('sandbox-output-', '')} output would appear here]`}\n                  </Box>\n                </Box>\n              ))}\n            </Box>\n          </>\n        )}\n      </Paper>\n    </motion.div>\n  );\n};\n","import React from 'react';\n\nimport { Code, DataObject, PlayArrow } from '@mui/icons-material';\nimport { Box, Typography, Chip, Paper } from '@mui/material';\nimport { motion } from 'framer-motion';\n\ninterface AppCodeEditorRendererProps {\n  bit: {\n    type: string;\n    content?: string;\n    id?: string;\n    computerLanguage?: string;\n    body?: any;\n  };\n}\n\nexport const AppCodeEditorRenderer: React.FC<AppCodeEditorRendererProps> = ({ bit }) => {\n  // Extract content from various possible structures\n  const getContent = () => {\n    if (bit.content) return bit.content;\n    if (bit.body) {\n      if (typeof bit.body === 'string') return bit.body;\n      if (bit.body.bodyText) return bit.body.bodyText;\n      if (bit.body.text) return bit.body.text;\n    }\n    return '';\n  };\n\n  const content = getContent();\n  const language = bit.computerLanguage || 'bitmark';\n  const id = bit.id;\n\n  const getLanguageIcon = () => {\n    switch (language) {\n      case 'json':\n        return <DataObject sx={{ fontSize: '1rem' }} />;\n      case 'bitmark':\n        return <PlayArrow sx={{ fontSize: '1rem' }} />;\n      default:\n        return <Code sx={{ fontSize: '1rem' }} />;\n    }\n  };\n\n  const getLanguageColor = () => {\n    switch (language) {\n      case 'json':\n        return 'primary';\n      case 'bitmark':\n        return 'secondary';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Paper\n        elevation={1}\n        sx={{\n          p: 2,\n          mb: 2,\n          border: '1px solid',\n          borderColor: 'divider',\n          borderRadius: 2,\n        }}\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n          {getLanguageIcon()}\n          <Typography variant=\"h6\" sx={{ fontSize: '1rem', fontWeight: 600 }}>\n            Code Editor\n          </Typography>\n          <Chip\n            label={language.toUpperCase()}\n            size=\"small\"\n            color={getLanguageColor()}\n            variant=\"outlined\"\n          />\n          {id && (\n            <Chip\n              label={`ID: ${id}`}\n              size=\"small\"\n              variant=\"outlined\"\n              sx={{ ml: 'auto' }}\n            />\n          )}\n        </Box>\n        \n        <Box\n          component=\"pre\"\n          sx={{\n            backgroundColor: 'grey.50',\n            p: 2,\n            borderRadius: 1,\n            border: '1px solid',\n            borderColor: 'grey.200',\n            fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n            fontSize: '0.875rem',\n            lineHeight: 1.5,\n            overflow: 'auto',\n            maxHeight: '300px',\n            whiteSpace: 'pre-wrap',\n            wordBreak: 'break-word',\n          }}\n        >\n          {content || 'No content available'}\n        </Box>\n      </Paper>\n    </motion.div>\n  );\n};\n","import React from 'react';\nimport { Box, Alert, AlertTitle, Typography, Chip } from '@mui/material';\nimport { motion } from 'framer-motion';\nimport { Code, PlayArrow } from '@mui/icons-material';\n\ninterface SandboxPlaceholderRendererProps {\n  bitType: string;\n}\n\nexport const SandboxPlaceholderRenderer: React.FC<SandboxPlaceholderRendererProps> = ({ bitType }) => {\n  const getSandboxIcon = () => {\n    switch (bitType) {\n      case 'app-code-editor':\n        return <Code sx={{ fontSize: '1.2rem' }} />;\n      case 'sandbox-output-json':\n        return <Code sx={{ fontSize: '1.2rem' }} />;\n      case 'sandbox-output-bitmark':\n        return <PlayArrow sx={{ fontSize: '1.2rem' }} />;\n      default:\n        return <Code sx={{ fontSize: '1.2rem' }} />;\n    }\n  };\n\n  const getSandboxTitle = () => {\n    switch (bitType) {\n      case 'app-code-editor':\n        return 'Code Editor';\n      case 'sandbox-output-json':\n        return 'Sandbox JSON Output';\n      case 'sandbox-output-bitmark':\n        return 'Sandbox Bitmark Output';\n      default:\n        return 'Sandbox Content';\n    }\n  };\n\n  const getSandboxDescription = () => {\n    switch (bitType) {\n      case 'app-code-editor':\n        return 'This code editor content is rendered from the JSON pane.';\n      case 'sandbox-output-json':\n        return 'This JSON output content is rendered from the JSON pane.';\n      case 'sandbox-output-bitmark':\n        return 'This bitmark output content is rendered from the JSON pane.';\n      default:\n        return 'This sandbox content is rendered from the JSON pane.';\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Box sx={{ mb: 2 }}>\n        <Alert \n          severity=\"info\"\n          sx={{\n            borderRadius: 2,\n            border: '2px dashed',\n            borderColor: 'primary.main',\n            backgroundColor: 'primary.50',\n            '& .MuiAlert-icon': {\n              fontSize: '1.2rem',\n            },\n          }}\n        >\n          <AlertTitle sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            {getSandboxIcon()}\n            {getSandboxTitle()}\n          </AlertTitle>\n          \n          <Typography variant=\"body2\" sx={{ mt: 1 }}>\n            {getSandboxDescription()}\n          </Typography>\n          \n          <Box sx={{ mt: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Chip \n              label=\"Sandbox Integration\" \n              size=\"small\" \n              color=\"primary\" \n              variant=\"outlined\"\n            />\n            <Typography variant=\"caption\" sx={{ opacity: 0.8 }}>\n              Rendering from JSON pane...\n            </Typography>\n          </Box>\n        </Alert>\n      </Box>\n    </motion.div>\n  );\n};\n","import React from 'react';\n\nimport { CssBaseline } from '@mui/material';\nimport { ThemeProvider as MuiThemeProvider, createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n    primary: {\n      main: '#1976d2',\n      light: '#42a5f5',\n      dark: '#1565c0',\n    },\n    secondary: {\n      main: '#dc004e',\n    },\n    background: {\n      default: '#fafafa',\n      paper: '#ffffff',\n    },\n  },\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n  components: {\n    MuiTextField: {\n      styleOverrides: {\n        root: {\n          '& .MuiOutlinedInput-root': {\n            borderRadius: 8,\n          },\n        },\n      },\n    },\n    MuiSelect: {\n      styleOverrides: {\n        root: {\n          borderRadius: 8,\n        },\n      },\n    },\n    MuiAlert: {\n      styleOverrides: {\n        root: {\n          borderRadius: 8,\n        },\n      },\n    },\n  },\n});\n\ninterface ThemeProviderProps {\n  children: React.ReactNode;\n}\n\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </MuiThemeProvider>\n  );\n};\n"],"mappings":"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","names":["useState","useCallback","useMemo","Box","Alert","AlertTitle","motion","useState","Box","Typography","Paper","motion","useState","Box","TextField","Typography","motion","jsx","useState","Box","FormControl","InputLabel","Select","MenuItem","Typography","motion","jsx","jsxs","Box","Typography","motion","jsx","Box","Typography","motion","jsx","jsxs","hasArticle","jsx","jsxs","useState","Box","motion","Paper","Typography","Box","Typography","motion","jsx","jsxs","Box","Typography","Chip","Paper","motion","Code","DataObject","PlayArrow","Code","DataObject","PlayArrow","Box","Typography","Chip","Paper","motion","jsx","jsxs","jsx","jsxs","DataObject","PlayArrow","Code","motion","Paper","Box","Typography","Chip","Box","Alert","AlertTitle","Typography","Chip","motion","Code","PlayArrow","jsx","jsxs","jsx","jsxs","useState","useCallback","errors","parsedData","useMemo","Box","Alert","AlertTitle","motion","jsx","jsxs"]}